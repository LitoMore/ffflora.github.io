<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Flora Jiang">
    <meta name="description" content="Flora&#39;s personal website">
    <meta name="keywords" content="blog,data,personal">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="读书笔记：《走进内容推荐时代》"/>
<meta name="twitter:description" content="走进内容推荐时代 : 写给内容行业从业者的推荐分发入门书（市场先行版） ◆ 走近内容推荐 多种召回方式共同构建的视频候选集会被一并送进排序环节。在排序环节中，神经网络基于用户个体的特征和视频的特征对候选集进行打分，最后给用户返回得分靠前的十余个视频。
相对YouTube较为抽象简化的数据流图，Netflix（网飞）的架构图就更复杂一些了，但整体上仍然保持了离线模型训练、在线召回排序、更新用户画像与内容画像的基础结构。
离线模型训练、在线召回排序、更新用户画像与内容画像的基础结构。系统在实时响应用户请求的在线层和负责数据处理、模型训练的离线层之间增加了NearLine（近线）层，以实现计算规模和时效性的折中。
“训练”推荐系统就请你不吝表达和互动，用你的反馈支持服务提供商和内容创作者。对于令你满意的服务和产品，登录是最好的肯定，在登录后，你的所有行为轨迹就不会丢失，在更换设备之后仍然能够获得稳定的服务体验；对于令你满意的内容，请果断地点赞、评论；对于你喜欢的作者，可以关注他的后续动态。“赠人玫瑰、手有余香”，这些典型正向反馈能够让算法更快速地收敛并确定你的喜好。对于令你厌恶的内容，也请点个“×”，明确屏蔽掉特定关键字，让系统不再做无用的探索。
完善用户画像既可以通过尽可能多的外部渠道数据塑造用户来实现，也可以借助产品设计和运营活动引导用户多沉淀行为来实现。
规则是在排序环节之后生效的
短期的干预是应该逐步被长期的机制所替换的。
◆ 推荐的起点：断物识人 在我们设计系统时，可以先基于产品场景快速覆盖主要标签，再结合标签集合的使用频次、专家建议等因素逐步将部分入口收敛到树状的分类体系中来。
简短评论：最高门槛的评判，深度用户沉淀内容
在这种情况下，我们需要引入聚类的方式来描述。这种方式并不是以标签词的方式来定义事物是怎样的，而是基于某一维度的特征将相关物品组成一个集合，并告诉你这个新的物品同哪个集合相似。 clustering the similar items depending on the feature of some dimensions, and classify the new item to the most similar cluster
通常，用户画像有三类主要应用场景：
（1）精准广告营销。用户画像对广告营销来说是最典型的应用场景。当给用户打上各种维度的标签之后，广告主就能够借助这些标签来圈定用户，以便更有效率地触达目标人群。我们以脸谱网的广告投放系统为例，广告主可以选择地域范围、年龄范围、性别、兴趣标签等。通过选择这一系列标签，系统也会实时反馈给广告主目前框定的候选人数。
（2）行业研究。借助用户画像，我们可以了解不同行业的动态进展。比如，90后、00后的购物娱乐消费分析，不同地域用户的消费差异分析，特定行业中用户的消费特点，等等。通常，平台会定期发布此类报告，帮助内外部人士更好地了解细分领域的最新特点。比如，在腾讯大数据（http://bigdata.qq.com/reports）上，你就可以查看到过往发布的行业研究报告。
（3）产品效率优化。信息匹配是最典型的场景，无论是国内的今日头条、淘宝，还是国外的YouTube、脸谱网，其平台都是基于用户的画像信息来优化推荐排序，以实现人和信息的高效匹配，从而提升效益、降低成本的。据Netflix估算，个性化推荐系统每年为它的业务节省的费用高达10亿美元。坊间传闻，基于用户画像的推荐排序还有一些灰色的应用：比如真假货混发，罗振宇在跨年演讲“时间的朋友”中提到，某不良商家会根据用户的收货地址来预估用户的认知水平，从而决定是发送真货、高仿还是假货；又比如价格歧视，同样一件商品添加进购物车后，不同的用户可能会收到不同的后续反馈，价格敏感型的用户更容易收到优惠券。
我们通常将用户画像数据划分为静态和动态两类。静态用户画像数据：用户独立于产品场景之外的属性，如性别、学历、年龄、婚育状况、常驻位置等。这些信息往往相对稳定，可通过第三方联合登录、用户表单填写等方式获取。静态数据通常具有统计性意义，比如常驻位置在某高档小区的用户可能付费能力更强，女性用户可能冲动性消费更多等。动态用户画像数据：用户在产品场景中所产生的显式或隐式行为。显式行为包括对某篇内容点赞、评论、分享，关注了某个作者等。在众多显式行为中，由于产品场景的不同，不同行为的权重也不相同（如对于电商场景，购买的权重&gt;购物车的权重&gt;查看的权重）。隐式行为包括在某页面的停留时长、用户的操作行为轨迹等。通常，显式行为的权重要高于隐式行为，但是由于显式行为更稀疏，所以需要隐式行为来补充验证。
以下是一些常见的静态或动态用户画像数据： 位置信息。不同产品对常驻位置有不同的应用方式：推荐本地新闻和特定水电暖通知之类的内容是能够想到的最直观的应用场景；美食团购类应用，是默认基于身边位置进行推荐的。但是，当你离开常驻城市进入其他城市时就会发现，应用中会增加一个旅行者模块，其提供的内容更多考虑知名度而非距离因素。[插图]图2-8 美食团购类应用基于位置推荐示例除了常驻城市的应用外，对于朝九晚五的上班族来说，还有常驻地点的概念，如高德地图和滴滴打车中提供的“家”和“公司”的选项。基于日常轨迹和常驻地点，系统可以进行一些远距离的推荐，如可以在下班时段推荐家附近的饮食或尝试推荐沿途的消费地点。
搜索信息。搜索是一个显著表明短期意图的行为，具有随时间衰减的特性。以淘宝为例，当你搜索“螃蟹”之后，那么无论是在淘宝的首页横幅广告，还是在接入了淘宝广告的应用，你都能看到关于“螃蟹”的广告。而当搜索行为过去一段时间或是在你显式购买之后，这类广告的展现就应该降低或停止。
评分。评分是最常见的量化行为。如淘宝、京东等购物网站对购物行为不同维度的点评，豆瓣对书籍和电影的打分等，一般都设置为1～5分的评分机制。需要注意的是，不同用户有不同的打分偏好，比如有人习惯性好评，有人则偏严格。因此，需要将用户的历史平均分作为基准进行归一化处理，以衡量用户评分行为背后的认可度。
收藏。收藏表达了用户对内容的偏好程度。在内容领域，具有工具性或实用性的内容通常更容易被收藏。在电商领域，收藏和加入购物车一样都是用户购买意图的体现。
分享。除了表达喜好外，分享还传递了用户的立场和态度。比如，用户会阅读、评论很多热门的内容，但在转发的操作上是审慎的。转发到微博或微信朋友圈的动作代表了用户在用自己的社会身份扩散内容。从某种角度而言，转发的肯定意义比收藏、评论等行为的意义要大。
评论。评论代表了参与度，但不一定明确地关联到态度的好恶。对评论的处理需要进一步进行文本分析，以获取用户的表意性和情感倾向性。在产品层上，淘宝的宝贝印象算是一个典型应用，通过抽离出用户的共同评语来辅助新的消费者进行决策。
播放比例或播放时长。与点击行为相比，播放时长是一个相对隐性的行为。我们通常可以用播放时长来衡量用户对特定视频点击后的消费体验。2012年，YouTube就已经调整视频排序算法，将获得观看时长更多的视频排在更优先的位置。
◆ 推荐算法：物以类聚，人以群分 推荐算法：物以类聚，人以群分
以内容推荐为例，其用于相似度计算的常见因素有：作者层面的相似性（基于订阅或偏好关系），内容层面的相似性（如关键词、话题、类目、聚类、标签等）。
基于内容属性推荐的好处在于，只依赖物品本身的特征而不依赖用户的行为，让新的物品、冷僻的物品都能得到展示的机会。其存在的问题在于，推荐质量的优劣完全依赖于特征构建的完备性，但特征构建本身是一项系统的工程，存在一定成本。在上面的例子中，如果标签词粒度不够细，不能够全面描述书的内容（比如每本书的标签词只有三个），就很难计算出置信的相似度，达不到足够好的推荐效果。
人以群分：基于用户行为的协同过滤
把用户的消费行为作为特征，以此进行用户相似性或物品相似性的计算，进行信息匹配，是协同过滤（Collaborative Filtering）的基础。
协同推荐可以分为三个子类：基于物品（Item-based）的协同、基于用户（User-based）的协同和基于模型（Model-based）的协同。
基于用户的协同就契合了上面的例子，其基础思路分为两步：第一步，找到那些与你在某一方面口味相似的人群（比如你们都是新手爸妈，倾向于同一种教育理念）；第二步，将这一人群喜欢的新东西推荐给你。
基于物品的协同，其推荐的基础思路是：先确定你喜欢什么物品，再找到与之相似的物品推荐给你。只是物品与物品间的相似度不是从内容属性的角度衡量的，而是从用户反馈的角度衡量的。
大家一度认为基于物品的协同要优于基于用户的协同，这是因为大型电商网站的用户数量往往远大于商品数量，且商品的更新频率相对较低，基于物品的协同能够以离线运算的方式获得更好的推荐效果。但对新闻推荐系统、社交性推荐系统等而言，其物品是海量和频繁更新的，故而基于用户的协同也有着相应的用武之地。
基于模型的协同，是用用户的喜好信息来训练算法模型，实时预测用户可能的点击率
比如，在Netflix的系统中就将受限玻尔兹曼机（Restricted Boltzmann Machines, RBM）神经网络应用于协同过滤。将深度学习应用于基于模型的协同，也成了业界广泛使用的方式。"/>

    <meta property="og:title" content="读书笔记：《走进内容推荐时代》" />
<meta property="og:description" content="走进内容推荐时代 : 写给内容行业从业者的推荐分发入门书（市场先行版） ◆ 走近内容推荐 多种召回方式共同构建的视频候选集会被一并送进排序环节。在排序环节中，神经网络基于用户个体的特征和视频的特征对候选集进行打分，最后给用户返回得分靠前的十余个视频。
相对YouTube较为抽象简化的数据流图，Netflix（网飞）的架构图就更复杂一些了，但整体上仍然保持了离线模型训练、在线召回排序、更新用户画像与内容画像的基础结构。
离线模型训练、在线召回排序、更新用户画像与内容画像的基础结构。系统在实时响应用户请求的在线层和负责数据处理、模型训练的离线层之间增加了NearLine（近线）层，以实现计算规模和时效性的折中。
“训练”推荐系统就请你不吝表达和互动，用你的反馈支持服务提供商和内容创作者。对于令你满意的服务和产品，登录是最好的肯定，在登录后，你的所有行为轨迹就不会丢失，在更换设备之后仍然能够获得稳定的服务体验；对于令你满意的内容，请果断地点赞、评论；对于你喜欢的作者，可以关注他的后续动态。“赠人玫瑰、手有余香”，这些典型正向反馈能够让算法更快速地收敛并确定你的喜好。对于令你厌恶的内容，也请点个“×”，明确屏蔽掉特定关键字，让系统不再做无用的探索。
完善用户画像既可以通过尽可能多的外部渠道数据塑造用户来实现，也可以借助产品设计和运营活动引导用户多沉淀行为来实现。
规则是在排序环节之后生效的
短期的干预是应该逐步被长期的机制所替换的。
◆ 推荐的起点：断物识人 在我们设计系统时，可以先基于产品场景快速覆盖主要标签，再结合标签集合的使用频次、专家建议等因素逐步将部分入口收敛到树状的分类体系中来。
简短评论：最高门槛的评判，深度用户沉淀内容
在这种情况下，我们需要引入聚类的方式来描述。这种方式并不是以标签词的方式来定义事物是怎样的，而是基于某一维度的特征将相关物品组成一个集合，并告诉你这个新的物品同哪个集合相似。 clustering the similar items depending on the feature of some dimensions, and classify the new item to the most similar cluster
通常，用户画像有三类主要应用场景：
（1）精准广告营销。用户画像对广告营销来说是最典型的应用场景。当给用户打上各种维度的标签之后，广告主就能够借助这些标签来圈定用户，以便更有效率地触达目标人群。我们以脸谱网的广告投放系统为例，广告主可以选择地域范围、年龄范围、性别、兴趣标签等。通过选择这一系列标签，系统也会实时反馈给广告主目前框定的候选人数。
（2）行业研究。借助用户画像，我们可以了解不同行业的动态进展。比如，90后、00后的购物娱乐消费分析，不同地域用户的消费差异分析，特定行业中用户的消费特点，等等。通常，平台会定期发布此类报告，帮助内外部人士更好地了解细分领域的最新特点。比如，在腾讯大数据（http://bigdata.qq.com/reports）上，你就可以查看到过往发布的行业研究报告。
（3）产品效率优化。信息匹配是最典型的场景，无论是国内的今日头条、淘宝，还是国外的YouTube、脸谱网，其平台都是基于用户的画像信息来优化推荐排序，以实现人和信息的高效匹配，从而提升效益、降低成本的。据Netflix估算，个性化推荐系统每年为它的业务节省的费用高达10亿美元。坊间传闻，基于用户画像的推荐排序还有一些灰色的应用：比如真假货混发，罗振宇在跨年演讲“时间的朋友”中提到，某不良商家会根据用户的收货地址来预估用户的认知水平，从而决定是发送真货、高仿还是假货；又比如价格歧视，同样一件商品添加进购物车后，不同的用户可能会收到不同的后续反馈，价格敏感型的用户更容易收到优惠券。
我们通常将用户画像数据划分为静态和动态两类。静态用户画像数据：用户独立于产品场景之外的属性，如性别、学历、年龄、婚育状况、常驻位置等。这些信息往往相对稳定，可通过第三方联合登录、用户表单填写等方式获取。静态数据通常具有统计性意义，比如常驻位置在某高档小区的用户可能付费能力更强，女性用户可能冲动性消费更多等。动态用户画像数据：用户在产品场景中所产生的显式或隐式行为。显式行为包括对某篇内容点赞、评论、分享，关注了某个作者等。在众多显式行为中，由于产品场景的不同，不同行为的权重也不相同（如对于电商场景，购买的权重&gt;购物车的权重&gt;查看的权重）。隐式行为包括在某页面的停留时长、用户的操作行为轨迹等。通常，显式行为的权重要高于隐式行为，但是由于显式行为更稀疏，所以需要隐式行为来补充验证。
以下是一些常见的静态或动态用户画像数据： 位置信息。不同产品对常驻位置有不同的应用方式：推荐本地新闻和特定水电暖通知之类的内容是能够想到的最直观的应用场景；美食团购类应用，是默认基于身边位置进行推荐的。但是，当你离开常驻城市进入其他城市时就会发现，应用中会增加一个旅行者模块，其提供的内容更多考虑知名度而非距离因素。[插图]图2-8 美食团购类应用基于位置推荐示例除了常驻城市的应用外，对于朝九晚五的上班族来说，还有常驻地点的概念，如高德地图和滴滴打车中提供的“家”和“公司”的选项。基于日常轨迹和常驻地点，系统可以进行一些远距离的推荐，如可以在下班时段推荐家附近的饮食或尝试推荐沿途的消费地点。
搜索信息。搜索是一个显著表明短期意图的行为，具有随时间衰减的特性。以淘宝为例，当你搜索“螃蟹”之后，那么无论是在淘宝的首页横幅广告，还是在接入了淘宝广告的应用，你都能看到关于“螃蟹”的广告。而当搜索行为过去一段时间或是在你显式购买之后，这类广告的展现就应该降低或停止。
评分。评分是最常见的量化行为。如淘宝、京东等购物网站对购物行为不同维度的点评，豆瓣对书籍和电影的打分等，一般都设置为1～5分的评分机制。需要注意的是，不同用户有不同的打分偏好，比如有人习惯性好评，有人则偏严格。因此，需要将用户的历史平均分作为基准进行归一化处理，以衡量用户评分行为背后的认可度。
收藏。收藏表达了用户对内容的偏好程度。在内容领域，具有工具性或实用性的内容通常更容易被收藏。在电商领域，收藏和加入购物车一样都是用户购买意图的体现。
分享。除了表达喜好外，分享还传递了用户的立场和态度。比如，用户会阅读、评论很多热门的内容，但在转发的操作上是审慎的。转发到微博或微信朋友圈的动作代表了用户在用自己的社会身份扩散内容。从某种角度而言，转发的肯定意义比收藏、评论等行为的意义要大。
评论。评论代表了参与度，但不一定明确地关联到态度的好恶。对评论的处理需要进一步进行文本分析，以获取用户的表意性和情感倾向性。在产品层上，淘宝的宝贝印象算是一个典型应用，通过抽离出用户的共同评语来辅助新的消费者进行决策。
播放比例或播放时长。与点击行为相比，播放时长是一个相对隐性的行为。我们通常可以用播放时长来衡量用户对特定视频点击后的消费体验。2012年，YouTube就已经调整视频排序算法，将获得观看时长更多的视频排在更优先的位置。
◆ 推荐算法：物以类聚，人以群分 推荐算法：物以类聚，人以群分
以内容推荐为例，其用于相似度计算的常见因素有：作者层面的相似性（基于订阅或偏好关系），内容层面的相似性（如关键词、话题、类目、聚类、标签等）。
基于内容属性推荐的好处在于，只依赖物品本身的特征而不依赖用户的行为，让新的物品、冷僻的物品都能得到展示的机会。其存在的问题在于，推荐质量的优劣完全依赖于特征构建的完备性，但特征构建本身是一项系统的工程，存在一定成本。在上面的例子中，如果标签词粒度不够细，不能够全面描述书的内容（比如每本书的标签词只有三个），就很难计算出置信的相似度，达不到足够好的推荐效果。
人以群分：基于用户行为的协同过滤
把用户的消费行为作为特征，以此进行用户相似性或物品相似性的计算，进行信息匹配，是协同过滤（Collaborative Filtering）的基础。
协同推荐可以分为三个子类：基于物品（Item-based）的协同、基于用户（User-based）的协同和基于模型（Model-based）的协同。
基于用户的协同就契合了上面的例子，其基础思路分为两步：第一步，找到那些与你在某一方面口味相似的人群（比如你们都是新手爸妈，倾向于同一种教育理念）；第二步，将这一人群喜欢的新东西推荐给你。
基于物品的协同，其推荐的基础思路是：先确定你喜欢什么物品，再找到与之相似的物品推荐给你。只是物品与物品间的相似度不是从内容属性的角度衡量的，而是从用户反馈的角度衡量的。
大家一度认为基于物品的协同要优于基于用户的协同，这是因为大型电商网站的用户数量往往远大于商品数量，且商品的更新频率相对较低，基于物品的协同能够以离线运算的方式获得更好的推荐效果。但对新闻推荐系统、社交性推荐系统等而言，其物品是海量和频繁更新的，故而基于用户的协同也有着相应的用武之地。
基于模型的协同，是用用户的喜好信息来训练算法模型，实时预测用户可能的点击率
比如，在Netflix的系统中就将受限玻尔兹曼机（Restricted Boltzmann Machines, RBM）神经网络应用于协同过滤。将深度学习应用于基于模型的协同，也成了业界广泛使用的方式。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ffflora.github.io/cn/rec-sys/" />
<meta property="article:published_time" content="2019-11-19T14:22:34-08:00" />
<meta property="article:modified_time" content="2019-11-19T14:22:34-08:00" />


    
      <base href="https://ffflora.github.io/cn/rec-sys/">
    
    <title>
  读书笔记：《走进内容推荐时代》 · Flora&#39;s
</title>

    
      <link rel="canonical" href="https://ffflora.github.io/cn/rec-sys/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://ffflora.github.io/css/coder.min.4c6fcdf76ee3d92d0bdf8069e772433840f81d68ed1e743b0d7a09ca0cd4421d.css" integrity="sha256-TG/N927j2S0L34Bp53JDOED4HWjtHnQ7DXoJygzUQh0=" crossorigin="anonymous" media="screen" />
    

    

    

    

    
    
    <link rel="icon" type="image/png" href="https://ffflora.github.io/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://ffflora.github.io/img/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.57.2" />
  </head>

  <body class=" ">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://ffflora.github.io/">
      Flora&#39;s
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://ffflora.github.io/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://ffflora.github.io/resume.pdf">Resume</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://ffflora.github.io/cn/">CHN</a>
          </li>
        
      
      
    </ul>
  </section>
</nav>


      <div class="content">
        
  <section class="container page">
  <article>
    <header>
      <h1>读书笔记：《走进内容推荐时代》</h1>
    </header>

    

<h1 id="走进内容推荐时代-写给内容行业从业者的推荐分发入门书-市场先行版">走进内容推荐时代 : 写给内容行业从业者的推荐分发入门书（市场先行版）</h1>

<h3 id="走近内容推荐">◆ 走近内容推荐</h3>

<p>多种召回方式共同构建的视频候选集会被一并送进排序环节。在排序环节中，神经网络基于用户个体的特征和视频的特征对候选集进行打分，最后给用户返回得分靠前的十余个视频。</p>

<p>相对YouTube较为抽象简化的数据流图，Netflix（网飞）的架构图就更复杂一些了，但整体上仍然保持了离线模型训练、在线召回排序、更新用户画像与内容画像的基础结构。</p>

<p>离线模型训练、在线召回排序、更新用户画像与内容画像的基础结构。系统在实时响应用户请求的在线层和负责数据处理、模型训练的离线层之间增加了NearLine（近线）层，以实现计算规模和时效性的折中。</p>

<p>“训练”推荐系统就请你不吝表达和互动，用你的反馈支持服务提供商和内容创作者。对于令你满意的服务和产品，登录是最好的肯定，在登录后，你的所有行为轨迹就不会丢失，在更换设备之后仍然能够获得稳定的服务体验；对于令你满意的内容，请果断地点赞、评论；对于你喜欢的作者，可以关注他的后续动态。“赠人玫瑰、手有余香”，这些典型正向反馈能够让算法更快速地收敛并确定你的喜好。对于令你厌恶的内容，也请点个“×”，明确屏蔽掉特定关键字，让系统不再做无用的探索。</p>

<p><strong>完善用户画像既可以通过尽可能多的外部渠道数据塑造用户来实现，也可以借助产品设计和运营活动引导用户多沉淀行为来实现。</strong></p>

<p><strong>规则是在排序环节之后生效的</strong></p>

<p>短期的干预是应该逐步被长期的机制所替换的。</p>

<h3 id="推荐的起点-断物识人">◆ 推荐的起点：断物识人</h3>

<p>在我们设计系统时，可以先基于产品场景快速覆盖主要标签，再结合标签集合的使用频次、专家建议等因素逐步将部分入口收敛到树状的分类体系中来。</p>

<p><strong>简短评论</strong>：最高门槛的评判，深度用户沉淀内容</p>

<p>在这种情况下，我们需要引入聚类的方式来描述。这种方式并不是以标签词的方式来定义事物是怎样的，而是<strong>基于某一维度的特征将相关物品组成一个集合，并告诉你这个新的物品同哪个集合相似。</strong> clustering the similar items depending on the feature of some dimensions, and classify the new item to the most similar cluster</p>

<p>通常，<strong>用户画像</strong>有三类主要应用场景：</p>

<p>（1）<strong>精准广告营销</strong>。用户画像对广告营销来说是最典型的应用场景。当给用户打上各种维度的标签之后，广告主就能够借助这些标签来圈定用户，以便更有效率地触达目标人群。我们以脸谱网的广告投放系统为例，广告主可以选择<strong>地域范围、年龄范围、性别、兴趣标签</strong>等。通过选择这一系列标签，系统也会实时反馈给广告主目前框定的候选人数。</p>

<p>（2）行业研究。借助用户画像，我们可以了解不同行业的动态进展。比如，90后、00后的购物娱乐消费分析，不同地域用户的消费差异分析，特定行业中用户的消费特点，等等。通常，平台会定期发布此类报告，帮助内外部人士更好地了解细分领域的最新特点。比如，在腾讯大数据（<a href="http://bigdata.qq.com/reports）上，你就可以查看到过往发布的行业研究报告。">http://bigdata.qq.com/reports）上，你就可以查看到过往发布的行业研究报告。</a></p>

<p>（3）产品效率优化。信息匹配是最典型的场景，无论是国内的今日头条、淘宝，还是国外的YouTube、脸谱网，其平台都是基于用户的画像信息来优化推荐排序，以实现人和信息的高效匹配，从而提升效益、降低成本的。据Netflix估算，个性化推荐系统每年为它的业务节省的费用高达10亿美元。<u>坊间传闻，基于用户画像的推荐排序还有一些灰色的应用：比如真假货混发，罗振宇在跨年演讲“时间的朋友”中提到，某不良商家会根据用户的收货地址来预估用户的认知水平，从而决定是发送真货、高仿还是假货；又比如价格歧视，同样一件商品添加进购物车后，不同的用户可能会收到不同的后续反馈，价格敏感型的用户更容易收到优惠券。</u></p>

<p>我们通常将用<strong>户画像数据划分为静态和动态</strong>两类。<strong>静态用户画像数据：用户独立于产品场景之外的属性，如性别、学历、年龄、婚育状况、常驻位置等。这些信息往往相对稳定，可通过第三方联合登录、用户表单填写等方式获取。静态数据通常具有统计性意义，</strong>比如常驻位置在某高档小区的用户可能付费能力更强，女性用户可能冲动性消费更多等。<strong>动态用户画像数据：用户在产品场景中所产生的显式或隐式行为</strong>。<strong>显式行为包括对某篇内容点赞、评论、分享，关注了某个作者等。</strong>在众多显式行为中，由于产品场景的不同，不同行为的权重也不相同（如对于电商场景，购买的权重&gt;购物车的权重&gt;查看的权重）。<strong>隐式行为包括在某页面的停留时长、用户的操作行为轨迹等。</strong>通常，显式行为的权重要高于隐式行为，但是由于显式行为更稀疏，所以需要隐式行为来补充验证。</p>

<h4 id="以下是一些常见的静态或动态用户画像数据">以下是一些常见的静态或动态用户画像数据：</h4>

<p><strong>位置信息</strong>。不同产品对常驻位置有不同的应用方式：<strong>推荐本地新闻和特定水电暖通知之类的内容是能够想到的最直观的应用场景；美食团购类应用，是默认基于身边位置进行推荐的。但是，当你离开常驻城市进入其他城市时就会发现，应用中会增加一个旅行者模块，其提供的内容更多考虑知名度而非距离因素。</strong>[插图]图2-8 美食团购类应用基于位置推荐示例除了常驻城市的应用外，对于朝九晚五的上班族来说，还有常驻地点的概念，如高德地图和滴滴打车中提供的“家”和“公司”的选项。基于日常轨迹和常驻地点，系统可以进行一些远距离的推荐，如可以在下班时段推荐家附近的饮食或尝试推荐沿途的消费地点。</p>

<p><strong>搜索信息</strong>。<strong>搜索是一个显著表明短期意图的行为，具有随时间衰减的特性。</strong>以淘宝为例，当你搜索“螃蟹”之后，那么无论是在淘宝的首页横幅广告，还是在接入了淘宝广告的应用，你都能看到关于“螃蟹”的广告。而当搜索行为过去一段时间或是在你显式购买之后，这类广告的展现就应该降低或停止。</p>

<p><strong>评分</strong>。评分是最常见的量化行为。如淘宝、京东等购物网站对购物行为不同维度的点评，豆瓣对书籍和电影的打分等，一般都设置为1～5分的评分机制。<strong>需要注意的是，不同用户有不同的打分偏好，比如有人习惯性好评，有人则偏严格。因此，需要将用户的历史平均分作为基准进行归一化处理，以衡量用户评分行为背后的认可度。</strong></p>

<p><strong>收藏</strong>。收藏表达了用户对内容的偏好程度。在内容领域，具有工具性或实用性的内容通常更容易被收藏。在电商领域，收藏和加入购物车一样都是用户购买意图的体现。</p>

<p><strong>分享</strong>。除了表达喜好外，分享还传递了用户的立场和态度。比如，用户会阅读、评论很多热门的内容，但在转发的操作上是审慎的。转发到微博或微信朋友圈的动作代表了用户在用自己的社会身份扩散内容。从某种角度而言，<strong>转发的肯定意义比收藏、评论等行为的意义要大。</strong></p>

<p><strong>评论</strong>。<strong>评论代表了参与度，但不一定明确地关联到态度的好恶。对评论的处理需要进一步进行文本分析，以获取用户的表意性和情感倾向性。</strong>在产品层上，淘宝的宝贝印象算是一个典型应用，通过抽离出用户的共同评语来辅助新的消费者进行决策。</p>

<p><strong>播放比例或播放时长</strong>。与点击行为相比，播放时长是一个相对隐性的行为。我们通常可以用播放时长来衡量用户对特定视频点击后的消费体验。2012年，YouTube就已经调整视频排序算法，将获得观看时长更多的视频排在更优先的位置。</p>

<h3 id="推荐算法-物以类聚-人以群分">◆ 推荐算法：物以类聚，人以群分</h3>

<p>推荐算法：物以类聚，人以群分</p>

<p>以内容推荐为例，其用于相似度计算的常见因素有：作者层面的相似性（基于订阅或偏好关系），内容层面的相似性（如关键词、话题、类目、聚类、标签等）。</p>

<p>基于内容属性推荐的好处在于，只依赖物品本身的特征而不依赖用户的行为，让新的物品、冷僻的物品都能得到展示的机会。其存在的问题在于，推荐质量的优劣完全依赖于特征构建的完备性，但特征构建本身是一项系统的工程，存在一定成本。在上面的例子中，如果标签词粒度不够细，不能够全面描述书的内容（比如每本书的标签词只有三个），就很难计算出置信的相似度，达不到足够好的推荐效果。</p>

<p>人以群分：<strong>基于用户行为的协同过滤</strong></p>

<p><strong>把用户的消费行为作为特征，以此进行用户相似性或物品相似性的计算，进行信息匹配，是协同过滤（Collaborative Filtering）的基础。</strong></p>

<p>协同推荐可以分为三个子类：<strong>基于物品（Item-based）的协同、基于用户（User-based）的协同和基于模型（Model-based）的协同</strong>。</p>

<p>基于用户的协同就契合了上面的例子，其基础思路分为两步：第一步，找到那些与你在某一方面口味相似的人群（比如你们都是新手爸妈，倾向于同一种教育理念）；第二步，将这一人群喜欢的新东西推荐给你。</p>

<p>基于物品的协同，其推荐的基础思路是：先确定你喜欢什么物品，再找到与之相似的物品推荐给你。只是物品与物品间的相似度不是从内容属性的角度衡量的，而是从用户反馈的角度衡量的。</p>

<p>大家一度认为基于物品的协同要优于基于用户的协同，这是因为大型电商网站的用户数量往往远大于商品数量，且商品的更新频率相对较低，基于物品的协同能够以离线运算的方式获得更好的推荐效果。但对新闻推荐系统、社交性推荐系统等而言，其物品是海量和频繁更新的，故而基于用户的协同也有着相应的用武之地。</p>

<p>基于模型的协同，是用用户的喜好信息来训练算法模型，实时预测用户可能的点击率</p>

<p>比如，在Netflix的系统中就将受限玻尔兹曼机（Restricted Boltzmann Machines, RBM）神经网络应用于协同过滤。将深度学习应用于基于模型的协同，也成了业界广泛使用的方式。</p>

<p>协同推荐是目前应用最为广泛的推荐机制，其基于用户行为的特点使我们不需要对物品或信息进行完整的标签化分析和建模，从而实现了领域无关，可以很好地发现用户的潜在兴趣偏好。</p>

<p>◆ 从算法到应用</p>

<p>场景划分</p>

<p>垂类个性化推荐视频，如图4-1中的悬疑电影推荐、浪漫电影推荐，应用了PVR（Personalized Video Ranker）算法，针对每个用户推荐个性化的内容。</p>

<p>基于Top（排名靠前）热榜的推荐，应用了Top-N Video Ranker算法。与PVR算法应用于特定垂直类目不同，Top-N Video Ranker算法选择的是多个召回序列的头部结果，优中选优，基于全品类内容提供推荐。</p>

<p>基于时下流行的推荐，Netflix应用Trending Now算法给用户推荐他们可能关心的短期热点，从分钟维度到天的维度不等。</p>

<p>继续观看的场景。推荐运用Continue Watching算法，基于用户未看完的内容或正在追的剧集进行推荐。在这一场景下，并不是将用户未看完的内容以时间逆序罗列，而是综合考虑了上一次的观看时间、观看行为（暂停在了开头、结尾）等进行动态调序。此外，考虑到存在家庭账号共享的行为，算法也会进一步基于设备信息来推断当前这一用户是谁，从而展示相应的观看历史。搜索的场景。推荐在搜索的场景下主要用于搜索词和搜索结果的补充推荐。</p>

<p><strong>从工程的角度出发，推荐理由提升了推荐系统的透明性，让用户明白为什么会推荐该种类型的内容。站在业务的角度，会更多的从促成转化入手，即什么样的推荐理由可以增加说服力，引发用户认同。</strong></p>

<p>交互界面的迭代辅助了用户的决策，引导用户按照系统所期望的方式前进，以实现提升系统指标的最终目的。因此，对推荐系统而言，有着“交互界面&gt;数据&gt;算法”的说法。</p>

<p>推荐系统评估指标如果我们只关心推荐算法这一内核，其目标就是提高分发效率：让每一篇内容获得更多的阅读，让每一个用户更多地去点击。从算法角度看，评估指标可以大致拆分为两部分：推荐准确度。对应到内容推荐系统中，表现为对用户点击的预判（点击率）和对消费情况的预判（点击后的各种主动行为、停留时长）。由于准确度评估是可以复用既有数据进行离线计算的，故通常用于各种算法的迭代。比如，想设计一款新的算法以提升评论量，那么，就将历史上同一用户评论过的内容和未评论的内容输入算法，如果算法能够给前者打分更高，就意味着算法的准确率更高。推荐覆盖度（多样性）。好的推荐系统是能够给用户提供视野范围之外的内容的：从用户的角度看，可以评估用户的展示历史中各种题材、类目、话题的丰富程度如何，丰富度越高代表个体体验的多样性越好；从内容的角度看，可以评估有推荐展示的内容占整体内容量的比例，或整个内容分发体系的基尼系数[插图]。</p>

<p>只有一部算法引擎，推荐系统这部赛车是无法正常运转的。推荐算法应当服务于整体系统应用的目标，比如用户端的内容消费量与长期留存、作者端的活跃度等。为了这些长线目标，会给推荐算法补充很多其他目标，这些目标可能会损失短期点击率。</p>

<h3 id="连接内容与人">◆ 连接内容与人</h3>

<p><strong>从0到1积累基础数据的过程就是冷启动，其效果的好坏直接关系到用户端、作者端的满意度和留存率。</strong></p>

<p>新的用户、新的内容对推荐系统来说都是没有过往信息量积累的、陌生的，需要通过累积一定的曝光量和互动量（阅读、分享等）来收集基础数据。这个从0到1积累基础数据的过程就是冷启动，其效果的好坏直接关系到用户端、作者端的满意度和留存率。</p>

<p>如推荐算法部分所提到的，在内容被提交进入系统伊始，由于缺乏用户行为反馈，推荐系统更依赖于内容本身的固有属性来进行冷启动。</p>

<p>对产品主场景而言，用户留存一定是第一目标，只有把用户留下来才有持续探索的可能性。所以，系统在新用户的冷启动推荐上也会更偏向于重大兴趣的收敛而非发散，尽可能地追求留存率的提升。</p>

<p><strong>对移动端产品来说，可以获取信息的途径有多种：在设备层上，如厂商、型号都是必备信息。对安卓设备来说，某些品牌的用户在统计学上具有一定的可区分度，如锤子手机、一加手机的用户同VIVO、OPPO手机的用户就存在一定差异。在权限层上，移动设备可补充信息的丰富程度远高于PC（个人电脑）端：设备标志信息可以帮助判断用户是否是卸载重装的老用户；地理位置权限能够帮助确定用户的当前位置、常驻位置、行为轨迹。</strong></p>

<p><strong>Wi-Fi信息可以同时用于确定位置信息，并进一步将处于同一Wi-Fi环境下的用户圈定出来（通常是家庭、工作关系，如果同一Wi-Fi下的用户数量不多，那么这些用户彼此间可能有更亲密的关系）。</strong></p>

<p><strong>由于部分安卓手机用户的权限意识较弱，很多应用还会申请如读取目录或已经安装的软件等权限，通过文件目录反推用户已经安装的应用情况，以此来确定用户的偏好信息。比如，如果用户安装了大姨妈、蘑菇街之类的应用，则该用户极有可能是女性用户；如果用户安装了宝宝树、亲宝宝之类的应用，则有可能是有孩子的用户。在应用层上，结合产品设计和分发渠道特点，可以获得更丰富的信息。</strong></p>

<p><strong>装机渠道：在安卓设备上，通过不同的市场渠道、不同的广告素材转化而来的用户具有不同的特点。比如，通过金融相关素材转化的用户，显然会对金融类内容更感兴趣。在iOS（苹果公司的移动操作系统）设备上，也能通过一些类“邀请码”的设计方式来回溯用户是通过什么渠道安装的。</strong></p>

<p><strong>登录方式：通过第三方登录能够更快速地获取用户的基本信息。国内有微博、微信的联合登录，国外有脸谱网的联合登录。其中，脸谱网支持获取的权限信息如图5-3所示，有助于分析用户的好友信息、工作信息、教育背景等。</strong></p>

<p><strong>业务设计：偏社交性的应用则会引导用户上传真实头像、补充身份信息等，并结合用户提交的性别、年龄等信息，基于人群上的统计意义来推荐。偏阅读性的应用会让用户手动选择自己感兴趣的领域，或通过让用户对一些有区别的内容进行打分的方式来判断用户的喜好。</strong></p>

<p><strong>最典型的方式就是使用非个性化的热门榜单。</strong></p>

<p>Netflix的研究也表明：在冷启动阶段新用户更倾向于热门内容，而老用户则更需要长尾内容的推荐。long-tail?</p>

<p>而当新用户已经成了老用户，在已经实现短期留住用户的前提下，推荐系统需要在一定程度上牺牲短期点击率来探索用户更广泛的兴趣，从而获得用户长期留存率的提升。</p>

<p>应对小众兴趣，一方面需要扩充系统的资源池，让小众兴趣也有足够的内容覆盖；另一方面也需要通过产品设计鼓励用户更主动地进行强表达行为（如收藏、关注），一次关注行为显然比一次点击行为更经得起长时间的衰减。</p>

<h3 id="常见的推荐问题">◆ 常见的推荐问题</h3>

<p><strong>内容还具有地域消费性的特点：即时天气、本地新闻、同城活动、新店试吃等内容，都应当局限在特定的城市进行分发</strong></p>

<p>对于地域的识别，我们通常从正反两方面着手。正面的地域识别，可以通过标注本地媒体的方式来区分内容分发的范围（如《金陵晚报》的内容直接往南京分发），也可以通过内容中的关键词密度进行补充识别，如大篇幅提到海淀、朝阳，可能就是北京地区的内容。反面的识别豁免，需要对如旅游、历史等类目的内容进行豁免，此类内容中会频繁出现地名，容易造成误伤。</p>

<h3 id="带着偏见看推荐">◆ 带着偏见看推荐</h3>

<p>在冷启动阶段，由于对用户缺乏认知，推荐并不能很好地刻画用户的兴趣画像。为了最大化地实现用户冷启动阶段的留存目标，推荐必然会从大众化和基础化的热门角度切入。而大众化的内容必然是与部分用户的认知水平存在差异性的，从而让这部分用户认为推荐内容是低质的。</p>

<p><strong>在推荐过程中，更难解决的是认知水平的问题。系统基于文本分析确定了内容分类，可能会推荐一篇质量平平的科技分析给一个重度的科技用户。在这种情况下，用户还是会觉得内容过水，从而对推荐产生微词。我们通常依赖用户对作者的关注程度来局部改善此类问题。</strong></p>

<p>如果我们简化算法推荐过程，将推荐的因素收敛到编辑、社交、模型三种因素，那么，一个内容在系统中的得分可以表示为下列公式：</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">内容得分=a×编辑因素+b×社交因素+c×模型因素</pre></div>
<p>a、b、c分别为三种因素的权重。如果我们把某种因素的权重设置为1，其他因素的权重置为0，那么算法分发就能够等同于编辑分发或社交分发。</p>

<p>我们熟悉的各类内容分发产品，无论起步如何，如今都走上了一条多元素融合的道路：<strong><u>依赖中心化编辑引导和干预，依赖去中心化用户生产传播，应用机器学习提升效率</u></strong></p>

<h3 id="面对推荐系统">◆ 面对推荐系统</h3>

<p><strong>训练机器通常需要以下几个步骤</strong>：</p>

<p>第一，设定目标。机器擅长的是数据优化，产品经理的职责是给机器设定合理的优化目标，可以概括为：明确产品场景，确定业务的核心指标，并以灵敏指标拟合长期目标。以内容推荐产品为例，如果你负责的是一个垂直频道，那么这个频道的留存率和内容消费总量肯定是核心指标。对留存率来说，在产品成熟期不敏感，我们可以通过更容易观测的人均消费量来拟合这一目标。对内容消费总量而言，它等于频道渗透率乘以人均消费量，因此，所有的短线优化都可以围绕灵敏的局部指标渗透率和人均消费进行。目前，由于机器可以支持更高的复杂度，产品迭代已经逐步从单目标向多目标进化，即在不降低点击率的前提下，优化互动量（分享、评论、点赞），在互动量优化中，优先优化分享量。</p>

<p>第二，制订保底方案。机器的优化不是一蹴而就的，需要一个不断改进的时间周期。在机器算法尚未完善前，产品经理应该给出一个保底方案作为基线。以反低俗为例，在模型识别不好的时候，我们可以通过用户举报反馈、数据异常波动复审等方式拦截一部分低俗内容。以此作为基线保证用户的基础体验，留给机器学习和优化的时间。</p>

<p>第三，发现问题。与其说是发现机器推荐的问题，不如说是发现产品经理在制定目标时存在偏差的问题。在机器优化的过程中，往往会出现为了极致优化目标A，造成其他部分有损的情况。比如，目标设定的是优化用户的阅读完成度，那么机器执行后最直接的结果就是只推荐短文（一屏展现完毕，用户点击后就100%完成阅读）。这样的结果显然不是我们想要的。为了优化，我们需要进一步修正目标的设定方式。比如，内容至少要多于多少字，对哪些内容可豁免（如快讯），等等。好的算法结果，既离不开优秀技术研发的实现，也离不开优秀产品经理的投入。</p>

<p><strong>什么是个性化的好？在既定的指标体系下，借助技术手段不断追求更好的数据表现。什么是好的个性化？在不改变用户目的的前提下，借助技术手段达成用户效率和体验的提升。前者是技术流，后者是价值观；前者强调客观标准，后者强调主观目标。这两者在项目初期往往会高度一致，但当项目发展到中后期时，却往往会出现错位。</strong></p>

<p><strong>而好的个性化，是需要克制欲望的，需要引入更多维度的人工评估进行决策权衡，以可量化的短期指标损失来保证不能轻易量化的消费体验。</strong></p>

<p><strong>注意内容的跳出点</strong></p>

  </article>
</section>


      </div>

      <footer class="footer">
  <section class="container">
    
      <p>Happy Analyzing!</p>
    
    
    
    
  </section>
</footer>

    </main>

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-146589116-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


  </body>

</html>
